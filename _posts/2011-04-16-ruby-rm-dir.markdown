---
id: 50
title: 確認ダイアログを出しながら削除するスクリプト
category: Ruby
layout: post
---

確認ダイアログを出しながらディレクトリやファイルを削除するスクリプトを書いた。大したコード書いてないし逆引きRubyに載ってたコードをまるパクリしてるところもあるけど便利だと思う。

<script src="https://gist.github.com/921460.js?file=cleanup.rb"></script>

そのディレクトリにあるファイル/ディレクトリ一覧を取得した後、「このファイル/ディレクトリは作られてから何日経っています。削除しますか？ (y/n)」というダイアログ（英語）を表示する。`y` が入力されると削除を行う。地味に使える。

RubyのFileUtilsはすごく便利だと思う。シェルスクリプトでしこしこ書くのがアホらしくなる。RubyがPerlなみにあらゆるuni\*x系のサーバーに入るようになったらさぞかし便利だろうと思う。
